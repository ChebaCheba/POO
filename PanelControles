import java.awt.Color;
import java.awt.Dimension;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;

import javax.swing.ButtonGroup;
import javax.swing.JButton;
import javax.swing.JColorChooser;
import javax.swing.JFileChooser;
import javax.swing.JPanel;
import javax.swing.JRadioButton;
import javax.swing.JSlider;
import javax.swing.JTextField;
import javax.swing.SwingConstants;
import javax.swing.event.ChangeEvent;
import javax.swing.event.ChangeListener;

public class PanelControles extends JPanel implements ActionListener, MouseListener, ChangeListener{
	private JButton btCambiar,
					btCambiarColor,
					btArchivo;
	private JTextField tfNombre,
					   tfArchivo;
	private JRadioButton rbRojo,
						 rbVerde,
						 rbAzul;
	private PanelDibujo pd;
	private JPanel pc;
	private JFileChooser fc;
	private JSlider slider;
	
	public PanelControles(PanelDibujo pd){
		super();
		this.pd=pd;
		this.setPreferredSize(new Dimension(170, 600));
		this.btCambiar=new JButton("Saluda");
		this.add(this.btCambiar);
		this.btCambiar.addActionListener(this);
		
		this.tfNombre=new JTextField(15);
		this.add(this.tfNombre);
		
		this.rbRojo=new JRadioButton("Color Rojo", true);
		this.rbVerde=new JRadioButton("Color Verde");
		this.rbAzul=new JRadioButton("Color Azul");
		ButtonGroup bg=new ButtonGroup();
		bg.add(this.rbRojo);
		bg.add(this.rbVerde);
		bg.add(this.rbAzul);
		this.add(rbRojo);
		this.add(rbAzul);
		this.add(rbVerde);
		
		this.btCambiarColor=new JButton("Cambiar Color");
		this.btCambiarColor.addActionListener(this);
		this.add(this.btCambiarColor);
		
		this.pc=new JPanel();
		this.pc.setPreferredSize(new Dimension(70,70));
		this.pc.setBackground(Color.PINK);
		this.add(this.pc);
		this.pc.addMouseListener(this);
		
		this.tfArchivo=new JTextField(12);
		this.add(this.tfArchivo);
		
		this.btArchivo=new JButton("Selecciona un archivo");
		this.btArchivo.addActionListener(this);
		this.add(this.btArchivo);
		
		this.fc=new JFileChooser();
		
		this.slider=new JSlider(SwingConstants.VERTICAL,0, 200, 0);
		this.slider.setPaintTicks(true);
		this.slider.setPaintLabels(true);
		this.slider.setMajorTickSpacing(50);
		this.slider.setMinorTickSpacing(10);
		this.slider.addChangeListener(this);
		this.add(this.slider);
	}

	public void actionPerformed(ActionEvent e) {
		if(e.getSource()==this.btCambiar){
			System.out.println("Hola "+this.tfNombre.getText());
			pd.setNombre(this.tfNombre.getText());
		}
		else if(e.getSource()==this.btCambiarColor){
			if(this.rbRojo.isSelected()){
				this.setBackground(Color.RED);
			}
			else if(this.rbVerde.isSelected()){
				this.setBackground(Color.GREEN);
			}
			else{
				this.setBackground(Color.BLUE);
			}
		}
		else{
			
			int resp=this.fc.showOpenDialog(this.pd);
			if(resp==JFileChooser.APPROVE_OPTION){
				String rutaArchivo=this.fc.getSelectedFile().toString();
				System.out.println(rutaArchivo);
				
			}
		}
		
	}

	@Override
	public void mouseClicked(MouseEvent e) {
		Color seleccionado=JColorChooser.showDialog(this.pd, "Selecciona color Fondo", this.pc.getBackground());
		this.pc.setBackground(seleccionado);
		this.pd.setColorBase(seleccionado);
		
	}

	@Override
	public void mouseEntered(MouseEvent e) {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void mouseExited(MouseEvent e) {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void mousePressed(MouseEvent e) {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void mouseReleased(MouseEvent e) {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void stateChanged(ChangeEvent e) {
		this.pd.setAlturaNave(this.slider.getValue());
	}
}
